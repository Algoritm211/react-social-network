{"version":3,"sources":["assets/images/user_no_photo.png","redux/dialogs-reducer.js","components/Navbar/Friends/Friend/Friend.module.css","components/Users/Users.module.css","api/api.js","components/Navbar/Navbar.module.css","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/LoginForm/LoginForm.jsx","components/Login/Login.jsx","components/Music/Music.jsx","components/Navbar/Friends/Friend/Friend.jsx","components/Navbar/Friends/Friends.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Settings/Settings.jsx","components/common/Paginator/Paginator.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","redux/users-reducer.js","redux/users-selector.js","components/Users/UsersContainer.jsx","redux/app-reducer.js","components/hoc/withReactSuspense.js","App.jsx","reportWebVitals.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","components/utils/validators.js","components/utils/helpers/helpers.js","components/common/ValidatedFields/validatedFields.js","components/common/Loader/Loader.jsx","components/Users/User/User.module.css","components/Header/Header.module.css","components/common/ValidatedFields/ValidatedFields.module.css","components/Login/LoginForm/LoginForm.module.css","components/Navbar/Friends/Friends.module.css","components/common/Paginator/Paginator.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogsData","id","name","messagesData","message","sendMessage","type","newMessageText","dialogsReducer","state","action","newMessage","Date","now","module","exports","instanceAxios","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","usersPerPage","get","then","response","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","setStatus","status","put","setPhoto","photoFile","formData","FormData","append","setUserProfile","userData","authAPI","authUser","loginUser","email","password","rememberMe","captcha","logoutUser","securityAPI","getCaptchaURL","Header","props","className","classes","header","src","alt","loginBlock","isAuth","login","onClick","logout","to","SET_USER_DATA","GET_AUTH_USER_DATA","SET_CAPTCHA_URL","setCaptcha","setAuthUserDataAC","setAuthUserData","dispatch","a","resultCode","authReducer","HeaderContainer","this","React","Component","connect","auth","maxLength50","createMaxLengthValivator","reduxForm","form","onSubmit","handleSubmit","Field","component","Input","validate","required","isEmail","placeholder","captchaURL","captchaImg","error","formSubmitError","url","messageError","messages","stopSubmit","_error","Music","Friend","friend","img","Friends","friendsBlock","friends","map","index","sidebar","nav","item","activeClassName","activeLink","active","News","Settings","Paginator","totalItemsCount","onChangePage","portionSize","pagesCount","Math","ceil","portionCount","useState","portionNumber","setPortionNumber","pageLeftBorder","pageRightBorder","pages","i","push","paginatorElement","filter","pageNumber","activeClass","activePageItem","pageItem","Fragment","User","user","toggleFollowing","usersBlock","avatar","photos","small","userPhoto","followed","disabled","some","userDescription","Users","usersElements","users","paginator","totalUsersCount","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING","isFetching","followSuccess","unfollowSuccess","toggleIsFetchingAC","toggleIsFollowingAC","isToglleFollowing","usersReducer","updateObjectInArray","usersCount","page","createSelector","usersPage","getUsersPerPage","getTotalUsersCountUsers","getCurrentPage","getIsFetching","getToggleFollowing","UsersContainer","setCurrentPage","Loader","compose","Error","setCurrentPageAC","items","count","totalCount","requestUsers","INITIALIZE_SUCCESS","initialized","initializeApp","promiseSetAuthData","Promise","all","appReducer","withReactSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","path","render","from","withRouter","app","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","value","numberOfSymbols","length","test","objProp","actionProp","changeObj","getErrorField","errorString","includes","match","split","toLocaleLowerCase","ValidatedFieldsCreator","input","meta","touched","classNames","formField","cloneElement","children","Textarea","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SET_UPDATE_STATUS_ERROR","DELETE_POST","SET_USER_PROFILE_PHOTO","postsData","likesCount","profile","statusField","errorMessage","addPostActionCreator","newPostText","setUserPhoto","photosObj","setStatusSuccess","setStatusError","updateStatus","updateProfile","getState","result","errorField","reject","contacts","newPost","postId"],"mappings":"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","file":"static/js/main.a2c9d237.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user_no_photo.06e7d20e.png\";","\nconst SEND_MESSAGE = 'social-network-react/dialogsPage/SEND-MESSAGE'\n\nconst initialState = {\n  dialogsData: [\n    { id: 1, name: \"Alexey\" },\n    { id: 2, name: \"Alex\" },\n    { id: 3, name: \"Sabr\" },\n    { id: 4, name: \"Edward\" },\n  ],\n  messagesData: [\n    { id: 1, message: \"Hi, how are you\" },\n    { id: 2, message: \"Hello, do you want to drink coffee with me?\" },\n  ],\n}\n\nconst dialogsReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case SEND_MESSAGE:\n      let newMessage = {\n          id: Date.now(),\n          message: action.newMessageText,\n        }\n      // let newMessage = {\n      //   id: Date.now(),\n      //   message: state.newMessageText,\n      // }\n      return {\n        ...state,\n        messagesData:[\n          ...state.messagesData,\n          newMessage\n        ],\n      }\n    default:\n      return state\n  }\n}\n\n\n\n\nexport const sendMessage = (message) => {\n  return {\n    type: SEND_MESSAGE,\n    newMessageText: message\n  }\n}\n\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__19z3Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Users_paginator__1zXC5\"};","import axios from 'axios'\n\nconst instanceAxios = axios.create({\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  withCredentials: true,\n  headers: {\n    'API-KEY': '91cc5a84-d625-478b-a406-09acdffa3140'\n  }\n})\n\nexport const usersAPI = {\n  getUsers(currentPage, usersPerPage) {\n    return instanceAxios.get(`users?page=${currentPage}&count=${usersPerPage}`)\n              .then(response => {\n                return response.data\n              })\n  },\n\n  follow(userId) {\n    return instanceAxios.post(`follow/${userId}`)\n        .then(response => {\n          return response.data\n        })\n  },\n\n  unfollow(userId) {\n    return instanceAxios.delete(`follow/${userId}`)\n          .then(response => {\n            return response.data\n          })\n  }\n}\n\nexport const profileAPI = {\n  getProfile(userId) {\n    return instanceAxios.get(`profile/${userId}`)\n      .then(response => {\n        return response.data\n      })\n  },\n\n  getStatus(userId) {\n    return instanceAxios.get(`/profile/status/${userId}`)\n  },\n\n  setStatus(status) {\n    return instanceAxios.put('profile/status', {status: status})\n      .then(response => {\n        return response.data\n      })\n  },\n  setPhoto(photoFile) {\n    const formData = new FormData()\n    formData.append('image', photoFile)\n    return instanceAxios.put('profile/photo', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  },\n  setUserProfile(userData) {\n    return instanceAxios.put('profile', userData)\n  }\n}\n\nexport const authAPI = {\n  authUser() {\n    return instanceAxios.get('auth/me')\n      .then(response => {\n        return response.data\n      })\n  },\n  loginUser(email, password, rememberMe, captcha) {\n    return instanceAxios.post('auth/login', {email, password, rememberMe, captcha})\n      .then(response => {\n        return response.data\n      })\n  },\n  logoutUser() {\n    return instanceAxios.delete('auth/login')\n      .then(response => {\n        return response.data\n      })\n  }\n}\n\nexport const securityAPI = {\n  getCaptchaURL() {\n    return instanceAxios.get('security/get-captcha-url')\n  }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classes from './Header.module.css'\n\nconst Header = (props) => {\n\n  return (\n    <header className={classes.header}>\n      <img src=\"https://i.pinimg.com/originals/4e/40/dd/4e40ddd11beb9ba671a0b59948861afb.png\" alt='headerIcon'></img>\n\n      <div className={classes.loginBlock}>\n        {props.isAuth\n          ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\n          : <NavLink to='/login'>Login</NavLink>\n          }\n        \n      </div>\n    </header>\n  )\n}\n\nexport default Header ","import {stopSubmit} from \"redux-form\"\nimport {authAPI, securityAPI} from \"../api/api\"\n\nconst SET_USER_DATA = 'social-network-react/auth/SET_USER_DATA'\nconst GET_AUTH_USER_DATA = 'social-network-react/auth/GET_AUTH_USER_DATA'\nconst SET_CAPTCHA_URL = 'social-network-react/auth/SET_CAPTCHA_URL'\n\n\nconst initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  captcha: null,\n}\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.data,\n      }\n    case SET_CAPTCHA_URL:\n      return {\n        ...state,\n        captcha: action.captcha\n      }\n    case GET_AUTH_USER_DATA:\n      return state\n    default:\n      return state\n  }\n}\n\nexport const getAuthUserData = () => {\n  return {\n    type: GET_AUTH_USER_DATA,\n  }\n}\n\nconst setCaptcha = (captcha) => {\n  return {\n    type: SET_CAPTCHA_URL,\n    captcha: captcha\n  }\n}\n\nexport const setAuthUserDataAC = (userId, email, login, isAuth) => {\n  return {\n    type: SET_USER_DATA,\n    data: {\n      userId,\n      email,\n      login,\n      isAuth,\n    }\n  }\n}\n\nexport const setAuthUserData = () => {\n  return async (dispatch) => {\n    const data = await authAPI.authUser()\n    if (data.resultCode === 0) {\n      let {id, email, login} = data.data\n      dispatch(setAuthUserDataAC(id, email, login, true))\n    }\n  }\n}\n\nexport const loginUser = (email, password, rememberMe, captcha = null) => { //formData - object\n  return async (dispatch) => {\n    let data = await authAPI.loginUser(email, password, rememberMe, captcha)\n    if (data.resultCode === 0) {\n      dispatch(setAuthUserData())\n    } else {\n      if (data.resultCode === 10) {\n        const captcha = await securityAPI.getCaptchaURL()\n        dispatch(setCaptcha(captcha.data.url))\n      }\n      const messageError = data.messages[0] || 'An error occured'\n      const action = stopSubmit('login', {_error: messageError})\n      dispatch(action)\n    }\n  }\n}\n\nexport const logoutUser = () => {\n  return async (dispatch) => {\n    let data = await authAPI.logoutUser()\n    if (data.resultCode === 0) {\n      dispatch(setAuthUserDataAC(null, null, null, false))\n    }\n\n  }\n}\n\nexport default authReducer","import React from 'react'\nimport Header from './Header'\nimport { connect } from 'react-redux'\nimport { logoutUser, setAuthUserData } from '../../redux/auth-reducer'\n\nclass HeaderContainer extends React.Component {\n\n  componentDidMount() {\n  }\n\n  render() {\n    return (\n      <Header {...this.props} />\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setAuthUserData: (userId, email, login) => {\n      dispatch(setAuthUserData(userId, email, login))\n    },\n    logout: () => {\n      dispatch(logoutUser())\n    }\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer) ","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { Input } from '../../common/ValidatedFields/validatedFields'\nimport { createMaxLengthValivator, isEmail, required } from '../../utils/validators'\nimport classes from './LoginForm.module.css'\n\nconst maxLength50 = createMaxLengthValivator(50)\n\nconst LoginForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field \n          type='text' \n          component={Input}\n          name='email'\n          validate={[required, isEmail]}\n          placeholder='Login'/>\n      </div>\n      <div>\n        <Field \n          type='text' \n          component={Input} \n          name='password' \n          validate={[required, maxLength50]}\n          placeholder='Password'/>\n      </div>\n      <div>\n        <Field \n          type='checkbox' \n          component='input' \n          name='rememberMe'/> Remember me\n      </div>\n      {\n        props.captchaURL &&\n          <div>\n            <img src={props.captchaURL} className={classes.captchaImg} alt={'captchaIMG'}/>\n            <div>\n              <Field\n                type='text'\n                component={Input}\n                name='captcha'\n                placeholder='Enter symbols in captcha'\n                />\n            </div>\n          </div>\n      }\n      { props.error &&\n        <div className={classes.formSubmitError}>\n          {props.error}\n        </div>\n      }\n      <div>\n        <button>Submit</button>\n      </div>\n    </form>\n  )\n}\n\nexport default reduxForm({\n  form: 'login'\n})(LoginForm)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport { loginUser } from '../../redux/auth-reducer'\nimport LoginForm from './LoginForm/LoginForm'\n\n\nconst Login = (props) => {\n  const onSubmit = (formData) =>{\n    const {email, password, rememberMe = false, captcha} = formData\n    props.loginUser(email, password, rememberMe, captcha);\n  }\n\n  if (props.isAuth) {\n    return <Redirect to='/profile'/>\n  }\n  return (\n    <div>\n      <h2>LoginPage</h2>\n      <LoginForm onSubmit={(formData) => onSubmit(formData)} captchaURL={props.captchaURL}/>\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isAuth: state.auth.isAuth,\n    captchaURL: state.auth.captcha\n  }\n}\n\n// function mapDispatchToProps(dispatch) {\n//   return {\n//     loginUser: (email, password, rememberMe, captcha = null) => {\n//       dispatch(loginUser(email, password, rememberMe, captcha))\n//     }\n//   }\n// }\n\nexport default connect(mapStateToProps, {loginUser})(Login)","import React from 'react'\nimport classes from './Music.module.css'\n\n\nconst Music = () => {\n  return (\n    <div className=\"\">\n      Music\n    </div>\n  )\n}\n\n\nexport default Music","import React from \"react\";\nimport classes from \"./Friend.module.css\";\n\nconst Friend = (props) => {\n  return (\n    <div className={classes.friend}>\n      <div>\n        <img\n          src={props.img}\n          alt=\"friendImage\"\n        />\n      </div>\n      <div>{props.name}</div>\n    </div>\n  );\n};\n\nexport default Friend;\n","import React from \"react\";\nimport Friend from \"./Friend/Friend\";\nimport classes from \"./Friends.module.css\";\n\nconst Friends = (props) => {\n\n  let friendsBlock = props.friends.map((friend, index) => {\n    return (\n      <Friend name={friend.name} img={friend.img} key={index}/>\n    )\n  })\n\n  return (\n    <div className={classes.friendsBlock}>\n      <div>Friends</div>\n      <div className={classes.friends}>\n        { friendsBlock }\n      </div>\n    </div>\n  );\n};\n\nexport default Friends;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Friends from \"./Friends/Friends\";\nimport classes from './Navbar.module.css'\nimport { connect } from 'react-redux'\n\nconst Navbar = (props) => {\n  return (\n    <nav className={classes.nav}>\n      <div className={classes.item}>\n        <NavLink to='/profile' activeClassName={classes.activeLink}>Profile</NavLink>\n      </div>\n      <div className={`${classes.item} ${classes.active}`}>\n        <NavLink to='/dialogs' activeClassName={classes.activeLink}>Messages</NavLink>\n      </div>\n      <div className={classes.item}>\n        <NavLink to='/news' activeClassName={classes.activeLink}>News</NavLink>\n      </div>\n      <div className={classes.item}>\n        <NavLink to='/music' activeClassName={classes.activeLink}>Music</NavLink>\n      </div>\n      <div className={classes.item}>\n        <NavLink to='/users' activeClassName={classes.activeLink}>Users</NavLink>\n      </div>\n      <div className={classes.item}>\n        <NavLink to='/settings' activeClassName={classes.activeLink}>Settings</NavLink>\n      </div>\n\n      {/* Friends block */}\n      <Friends friends={props.friends}/>\n    </nav>\n  );\n};\n\nfunction mapStateToProps(state) {\n  return {\n    friends: state.sidebar.friends\n  }\n}\n\n\nexport default connect(mapStateToProps)(Navbar);\n","import React from 'react'\nimport classes from './News.module.css'\n\n\nconst News = () => {\n  return (\n    <div className=\"\">\n      News\n    </div>\n  )\n}\n\nexport default News","import React from 'react'\nimport classes from './Settings.module.css'\n\n\nconst Settings = () => {\n  return (\n    <div className=\"\">\n      Settings\n    </div>\n  )\n}\n\n\nexport default Settings","import React, {useState} from 'react'\nimport classes from './Paginator.module.css'\n\n\nconst Paginator = ({totalItemsCount, currentPage, usersPerPage, onChangePage, portionSize = 10}) => {\n\n\n  const pagesCount = Math.ceil((totalItemsCount / usersPerPage))\n\n  const portionCount = Math.ceil(pagesCount / portionSize) // const\n  const [portionNumber, setPortionNumber] = useState(1)\n  const pageLeftBorder = (portionNumber - 1) * portionSize + 1\n  const pageRightBorder = portionNumber * portionSize\n\n  let pages = []\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i)\n  }\n\n  let paginatorElement = pages\n    .filter(pageNumber => {\n      return pageNumber >= pageLeftBorder && pageNumber <= pageRightBorder\n    })\n    .map((item) => {\n      let activeClass = currentPage === item ? classes.activePageItem : ''\n      return (\n        <div\n          key={ item }\n          className={ `${ classes.pageItem } ${ activeClass }` }\n          onClick={ () => onChangePage(item) }\n        >\n          <div>\n            { item }\n          </div>\n        </div>\n      )\n    })\n\n  return (\n    <React.Fragment>\n      { portionNumber > 1 &&\n      <button onClick={ () => setPortionNumber(portionNumber - 1) }>PREV</button>\n      }\n      { paginatorElement }\n      { portionCount > portionNumber &&\n      <button onClick={ () => setPortionNumber(portionNumber + 1) }>NEXT</button> }\n    </React.Fragment>\n  )\n}\n\n\nexport default Paginator","import React from 'react'\nimport classes from './User.module.css'\nimport userPhoto from '../../../assets/images/user_no_photo.png'\nimport { NavLink } from 'react-router-dom'\n\nconst User = ({user, toggleFollowing, unfollow, follow}) => {\n  return (\n    <div className={classes.usersBlock} key={user.id}>\n        <div className={classes.avatar}>\n          <div>\n            <NavLink to={`/profile/${user.id}/`}>\n              <img src={\n                user.photos.small !== null \n                ? user.photos.small \n                : userPhoto } \n                alt={user.name}/>\n            </NavLink>\n          </div>\n          <div>\n            {user.followed\n              ? <button \n                  disabled={toggleFollowing.some(id => id === user.id)}\n                  onClick={() => unfollow(user.id)}\n                >Unfollow</button>\n              : <button \n                  disabled={toggleFollowing.some(id => id === user.id)}\n                  onClick={() => follow(user.id)}\n                  >Follow</button>}\n            \n          </div>\n        </div>\n        <div className={classes.userDescription}>\n          <div>\n            {user.name} <br />\n            {user.status}\n          </div>\n        </div>\n      </div>\n  )\n}\n\nexport default User","import React from 'react'\nimport classes from './Users.module.css'\nimport Paginator from '../common/Paginator/Paginator'\nimport User from './User/User'\n\nconst Users = (props) => {\n  \n  const follow = (userId) => {\n    props.follow(userId)\n  }\n\n  const unfollow = (userId) => {\n    props.unfollow(userId)\n  }\n\n  let usersElements = props.users.map((user, index) => {\n    return (\n      <User\n          key={user.name + index}\n          user = {user}\n          toggleFollowing = {props.toggleFollowing}\n          unfollow = {unfollow}\n          follow = {follow}\n          />\n    )\n  })\n\n  return (\n    <React.Fragment>\n      <div className={classes.paginator}>\n        <Paginator \n          totalItemsCount = {props.totalUsersCount}\n          currentPage = {props.currentPage}\n          usersPerPage = {props.usersPerPage} \n          onChangePage = {props.onChangePage}/>\n      </div>\n      <div>\n        {usersElements}\n      </div>\n    </React.Fragment>\n  )\n}\n\nexport default Users","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../components/utils/helpers/helpers\";\n\nconst FOLLOW = \"social-network-react/usersPage/FOLLOW\";\nconst UNFOLLOW = \"social-network-react/usersPage/UNFOLLOW\";\nconst SET_USERS = \"social-network-react/usersPage/SET_USERS\";\nconst SET_CURRENT_PAGE = 'social-network-react/usersPage/SET_CURRENT_PAGE'\nconst SET_TOTAL_USERS_COUNT = 'social-network-react/usersPage/SET_TOTAL_USERS_COUNT'\nconst TOGGLE_IS_FETCHING = 'social-network-react/usersPage/TOGGLE_IS_FETCHING'\nconst TOGGLE_IS_FOLLOWING = 'social-network-react/usersPage/TOGGLE_IS_FOLLOWING'\n\nconst initialState = {\n  users: [],\n  usersPerPage: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  toggleFollowing: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, 'id', action.userId, {followed: true})\n      };\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, 'id', action.userId, {followed: false})\n      };\n    case SET_USERS:\n      return {\n        ...state,\n        users: [...action.users],\n      };\n    case SET_TOTAL_USERS_COUNT:\n      return {\n        ...state,\n        totalUsersCount: action.usersCount\n      }\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.page\n      }\n\n    case TOGGLE_IS_FETCHING:\n      return {\n        ...state,\n        isFetching: action.isFetching\n      }\n\n    case TOGGLE_IS_FOLLOWING:\n      return {\n        ...state,\n        toggleFollowing: action.isToglleFollowing \n                        ? [...state.toggleFollowing, action.userId]\n                        : [...state.toggleFollowing.filter(id => id !== action.userId)]\n      }\n    default:\n      return state;\n  }\n};\n\nexport const followSuccess = (userId) => {\n  return {\n    type: FOLLOW,\n    userId: userId,\n  };\n};\n\nexport const unfollowSuccess = (userId) => {\n  return {\n    type: UNFOLLOW,\n    userId: userId,\n  };\n};\n\nexport const setUsersAC = (users) => {\n  return {\n    type: SET_USERS,\n    users: users,\n  };\n};\n\nexport const setTotalUsersCountAC = (count) => {\n  return {\n    type: SET_TOTAL_USERS_COUNT,\n    usersCount: count\n  }\n}\n\nexport const setCurrentPageAC = (page) => {\n  return {\n    type: SET_CURRENT_PAGE,\n    page: page\n  }\n}\n\nexport const toggleIsFetchingAC = (isFetching) => {\n  return {\n    type: TOGGLE_IS_FETCHING,\n    isFetching: isFetching\n  }\n}\n\nexport const toggleIsFollowingAC = (isToglleFollowing, userId) => {\n  return {\n    type: TOGGLE_IS_FOLLOWING,\n    isToglleFollowing: isToglleFollowing,\n    userId: userId\n  }\n}\n\nexport const requestUsers = (currentPage, usersPerPage) => {\n  return async (dispatch) => {\n    dispatch(toggleIsFetchingAC(true))\n    const data = await usersAPI.getUsers(currentPage, usersPerPage)\n      \n    dispatch(toggleIsFetchingAC(false))\n    dispatch(setUsersAC(data.items))\n    dispatch(setTotalUsersCountAC(data.totalCount - 7899))\n  }\n}\n\nexport const follow = (userId) => {\n  return async (dispatch) => {\n    dispatch(toggleIsFollowingAC(true, userId))\n    const data = await usersAPI.follow(userId)\n    try {\n      if (data.resultCode === 0) {\n        dispatch(followSuccess(userId))\n      }\n      dispatch(toggleIsFollowingAC(false, userId))\n      \n    } catch (error) {\n      dispatch(toggleIsFollowingAC(false, userId))\n    }\n  }\n}\n\nexport const unfollow = (userId) => {\n  return async (dispatch) => {\n    dispatch(toggleIsFollowingAC(true, userId))\n    const data = await usersAPI.unfollow(userId)\n\n    try {\n      if (data.resultCode === 0) {\n        dispatch(unfollowSuccess(userId))\n      }\n      dispatch(toggleIsFollowingAC(false, userId))\n    } catch (error) {\n      throw new Error(error)\n    }\n  }\n}\n\n\n\nexport default usersReducer;\n","import { createSelector } from 'reselect'\n\nconst getUsersSelector = (state) => state.usersPage.users\n\nexport const getUsers = createSelector(\n  [getUsersSelector],\n  (users) => {\n    return users.filter(user => true)\n  }\n)\n\nexport const getUsersPerPage = (state) => {\n  return state.usersPage.usersPerPage\n}\nexport const getTotalUsersCountUsers = (state) => {\n  return state.usersPage.totalUsersCount\n}\nexport const getCurrentPage = (state) => {\n  return state.usersPage.currentPage\n}\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching\n}\nexport const getToggleFollowing = (state) => {\n  return state.usersPage.toggleFollowing\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Users from './Users'\nimport {follow, requestUsers, setCurrentPageAC, unfollow} from '../../redux/users-reducer'\nimport Loader from '../common/Loader/Loader'\nimport { compose } from 'redux'\nimport { getCurrentPage, getIsFetching, getToggleFollowing, getTotalUsersCountUsers, getUsers, getUsersPerPage } from '../../redux/users-selector'\n\nclass UsersContainer extends React.Component {\n\n  componentDidMount() {\n    this.props.getUsers(this.props.currentPage, this.props.usersPerPage)\n  }\n\n  onChangePage = (page) => {\n    this.props.setCurrentPage(page)\n    this.props.getUsers(page, this.props.usersPerPage)\n  }\n  \n  render() {\n    return (\n      <React.Fragment>\n        { this.props.isFetching\n          ? <Loader />\n          : <Users \n          users={this.props.users} \n          onChangePage={(page) => this.onChangePage(page)}\n          totalUsersCount={this.props.totalUsersCount}\n          usersPerPage={this.props.usersPerPage}\n          currentPage={this.props.currentPage}\n          follow={this.props.follow}\n          unfollow={this.props.unfollow}\n          toggleFollowing={this.props.toggleFollowing}\n          />\n        }\n      </React.Fragment>\n    )\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  return {\n    users: getUsers(state),\n    usersPerPage: getUsersPerPage(state),\n    totalUsersCount: getTotalUsersCountUsers(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    toggleFollowing: getToggleFollowing(state) \n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    follow: (userId) => {\n      dispatch(follow(userId))\n    },\n    unfollow: (userId) => {\n      dispatch(unfollow(userId))\n    },\n    setCurrentPage: (page) => {\n      dispatch(setCurrentPageAC(page))\n    },\n    getUsers: (currentPage, usersPerPage) => {\n      dispatch(requestUsers(currentPage, usersPerPage))\n    }\n  }\n}\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps)\n)(UsersContainer)","import { setAuthUserData } from \"./auth-reducer\"\n\nconst INITIALIZE_SUCCESS = 'social-network-react/app/INITIALIZE_SUCCESS'\n\n\nconst initialState = {\n  initialized: false\n}\n\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZE_SUCCESS:\n      return {\n        ...state,\n        initialized: true\n      }\n    default:\n      return state\n  }\n}\n\nconst initializeAppSuccess = () => {\n  return {\n    type: INITIALIZE_SUCCESS\n  }\n}\n\nexport const initializeApp = () => {\n  return (dispatch) => {\n    const promiseSetAuthData = dispatch(setAuthUserData())\n    Promise.all([promiseSetAuthData])\n      .then(() => {\n        dispatch(initializeAppSuccess())\n      })\n  }\n}\n\nexport default appReducer","import React from 'react'\n\nconst withReactSuspense = (Component) => {\n  return (props) => {\n    return (\n      <React.Suspense fallback={<div>Загрузка...</div>}>\n        <Component {...props} />\n      </React.Suspense>\n    )\n  }\n}\n\nexport default withReactSuspense","import React from 'react'\nimport { connect } from 'react-redux';\nimport { Route, withRouter, Switch, Redirect} from 'react-router-dom';\nimport { compose } from 'redux';\nimport './App.css'\nimport Loader from './components/common/Loader/Loader';\n// import DialogsСontainer from './components/Dialogs/DialogsContainer'\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport Music from './components/Music/Music';\nimport Navbar from './components/Navbar/Navbar';\nimport News from './components/News/News';\n// import ProfileContainer from './components/Profile/ProfileContainer';\nimport Settings from './components/Settings/Settings';\nimport UsersContainer from './components/Users/UsersContainer';\nimport { initializeApp } from './redux/app-reducer';\nimport withReactSuspense from \"./components/hoc/withReactSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n\n  render() {\n    if (!this.props.initialized) {\n      return <Loader />\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n          <Switch>\n            <Route path=\"/dialogs\" render={withReactSuspense(DialogsContainer)} />\n\n            <Route path=\"/profile/:userId?/\" render={withReactSuspense(ProfileContainer)} />\n\n            <Route path=\"/news\" component={News} />\n            <Route path=\"/music\" component={Music} />\n            <Route path=\"/users\" render={() => {\n              return <UsersContainer />\n            }} />\n            <Route path=\"/settings\" component={Settings} />\n            <Route path='/login' render={() => {\n              return <Login />\n            }} />\n\n            <Redirect from={'/'} to={'/profile'} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    initialized: state.app.initialized\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    initializeApp: () => {\n      dispatch(initializeApp())\n    }\n  }\n}\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, mapDispatchToProps)\n)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\n\nconst initialState = {\n  friends: [\n    {id: 1, name: 'Alex', img: 'https://images.fineartamerica.com/images/artworkimages/mediumlarge/3/cute-snowshoe-cat-square-elisabeth-lucas.jpg'},\n    {id: 2, name: 'Edward', img: 'https://images.fineartamerica.com/images/artworkimages/mediumlarge/3/cute-snowshoe-cat-square-elisabeth-lucas.jpg'},\n  ]\n}\n\nconst sidebarReducer = (state = initialState, actions) => {\n\n  return state\n}\n\nexport default sidebarReducer","import {createStore, combineReducers, applyMiddleware, compose} from 'redux'\nimport profileReducer from './profile-reducer'\nimport dialogsReducer from './dialogs-reducer'\nimport sidebarReducer from './sidebar-reducer'\nimport usersReducer from './users-reducer'\nimport authReducer from './auth-reducer'\nimport thunkMiddleware from 'redux-thunk'\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from './app-reducer'\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  sidebar: sidebarReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(\n    applyMiddleware(thunkMiddleware)\n  ));\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware))\n\nwindow.store = store\n\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter, HashRouter} from 'react-router-dom';\nimport store from './redux/redux-store';\n//import StoreContext, { StoreProvider } from './StoreContext';\nimport {Provider} from 'react-redux'\n\n// addPost('I will own Rolls-Royce')\n// Include HashRouter for GitHub pages\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root'));\n\n\n// store.subscribe(() => {\n//   let state = store.getState()\n//   rerenderEntireTree(state)\n// })\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\nexport const required = (value) => {\n  if (!value) {\n    return \"Field is required\"\n  }\n\n  return undefined\n}\n\nexport const createMaxLengthValivator = (numberOfSymbols) => {\n  return (value) => {\n    if (value && value.length > numberOfSymbols) {\n      return `Must be ${numberOfSymbols} characters or less`\n    } \n    return undefined\n  }\n}\n\nexport const isEmail = (value) => {\n  if (value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) {\n    return \"Please enter valid email address\"\n  }\n  return undefined\n}","\n\nexport const updateObjectInArray = (items, objProp, actionProp, changeObj) => {\n  return items.map((user) => {\n    if (user[objProp] === actionProp) {\n      return { ...user, ...changeObj};\n    }\n    return user;\n  })\n}\n\n//Invalid url format (Contacts->Facebook)\n\nexport const getErrorField = (errorString) => {\n  if (errorString.includes('Contacts')) {\n    const wordsInBrackets = errorString.match(/\\(([^)]+)\\)/)[1].split('->')\n    const fieldName = wordsInBrackets[1].toLocaleLowerCase()\n    return fieldName\n  }\n  return 'formError'\n}","import React from 'react'\nimport classes from './ValidatedFields.module.css'\nimport classNames from 'classnames'\n\n\nconst ValidatedFieldsCreator = ({input, type, ...props}) => {\n  const {touched, error} = props.meta\n  // const errorClass = error && touched ? classes.error : '' //Not empty string if error and field war touched\n  return (\n    <div className={classNames(classes.formField, {\n      [classes.error]: error && touched\n    })}>\n      <div>\n        {React.cloneElement(props.children, {\n            ...input, \n            type: type,\n            placeholder: props.placeholder \n          })\n        }\n      </div>\n        {touched && \n            (error && \n            <span>\n              <i className=\"fa fa-exclamation-circle\"></i> \n              {error}\n            </span>)\n            }\n    </div>\n  )\n}\n\nexport const Textarea = (props) => {\n  return (\n    <ValidatedFieldsCreator {...props}>\n      <textarea />\n    </ValidatedFieldsCreator>\n  )\n}\n\nexport const Input = (props) => {\n  return (\n  <ValidatedFieldsCreator {...props}>\n    <input />\n  </ValidatedFieldsCreator>\n  )\n}","import React from \"react\";\nimport \"./Loader.css\";\n\nconst Loader = () => {\n  return (\n    <div className=\"loadingio-spinner-spinner-0bleofx7x5m8\">\n      <div className=\"ldio-j4uni1ybcm\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Loader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersBlock\":\"User_usersBlock__3gf9e\",\"avatar\":\"User_avatar__27DBJ\",\"userDescription\":\"User_userDescription__v8A_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formField\":\"ValidatedFields_formField___r34E\",\"error\":\"ValidatedFields_error__16eC1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSubmitError\":\"LoginForm_formSubmitError__1NZbV\",\"captchaImg\":\"LoginForm_captchaImg__1Omyv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBlock\":\"Friends_friendsBlock__3VL2J\",\"friends\":\"Friends_friends__1-Zf7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageItem\":\"Paginator_pageItem__1hZTJ\",\"activePageItem\":\"Paginator_activePageItem__1feRU\"};","import { profileAPI } from \"../api/api\"\nimport {stopSubmit} from \"redux-form\";\nimport {getErrorField} from \"../components/utils/helpers/helpers\";\n\nconst ADD_POST = 'social-network-react/profilePage/ADD-POST'\nconst SET_USER_PROFILE = 'social-network-react/profilePage/SET_USER_PROFILE'\nconst SET_USER_STATUS = 'social-network-react/profilePage/SET_USER_STATUS'\nconst SET_UPDATE_STATUS_ERROR = 'social-network-react/profilePage/SET_UPDATE_STATUS_ERROR'\nconst DELETE_POST = 'social-network-react/profilePage/DELETE_POST'\nconst SET_USER_PROFILE_PHOTO = 'social-network-react/profilePage/SET_USER_PROFILE_PHOTO'\n\nconst initialState = {\n  postsData: [\n    { id: 1, message: \"Hi, how are you\", likesCount: 12 },\n    { id: 2, message: \"it`s my first post\", likesCount: 15 },\n  ],\n  profile: null,\n  statusField: {\n    status: '',\n    errorMessage: null\n  }\n}\n\nconst profileReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        id: Date.now(),\n        message: action.newPostText,\n        likesCount: 0\n      }\n      // console.log(state);\n      \n      return {\n        ...state,\n        postsData: [\n          ...state.postsData,\n          newPost\n        ]\n      }\n    case DELETE_POST:\n      return {\n        ...state,\n        postsData: state.postsData.filter(post=> post.id !== action.postId)\n      }\n    case SET_USER_PROFILE: \n      return {\n        ...state,\n        profile: action.profile\n      }\n    case SET_USER_STATUS:\n      return {\n        ...state,\n        statusField: {...state.statusField, status: action.status, errorMessage: null}\n      }\n    case SET_UPDATE_STATUS_ERROR:\n      return {\n        ...state,\n        statusField: {...state.statusField, errorMessage: action.error}\n      }\n    case SET_USER_PROFILE_PHOTO:\n      return {\n        ...state,\n        profile: {...state.profile, photos: action.photosObj}\n      }\n    default:\n      return state\n  }\n}\n\nexport const addPostActionCreator = (post) => {\n  return {\n    type: ADD_POST,\n    newPostText: post\n  }\n}\n\nexport const deletePostAC = (postId) => {\n  return {\n    type: DELETE_POST,\n    postId: postId\n  }\n}\n\nexport const setUserProfileAC = (profile) => {\n  return { \n    type: SET_USER_PROFILE,\n    profile: profile\n  }\n}\n\nexport const setUserPhotoSuccess = (photosObj) => {\n  return {\n    type: SET_USER_PROFILE_PHOTO,\n    photosObj: photosObj\n  }\n}\n\nexport const setUserPhoto = (photoFile) => {\n  return async (dispatch) => {\n    let data = await profileAPI.setPhoto(photoFile)\n    if (data.data.resultCode === 0) {\n      dispatch(setUserPhotoSuccess(data.data.data.photos))\n    }\n  }\n}\n\nexport const getProfile = (userId) => {\n  return async (dispatch) => {\n    let data = await profileAPI.getProfile(userId)\n    dispatch(setUserProfileAC(data))\n  }\n}\n\nconst setStatusSuccess = (status) => {\n  return {\n    type: SET_USER_STATUS,\n    status: status\n  }\n}\n\nexport const getStatus = (userId) => {\n  return async (dispatch) => {\n    let data = await profileAPI.getStatus(userId)\n    dispatch(setStatusSuccess(data.data))\n  }\n}\n\nconst setStatusError = (error) => {\n  return {\n    type: SET_UPDATE_STATUS_ERROR,\n    error: error\n  }\n}\n\nexport const updateStatus = (status) => {\n  return async (dispatch) => {\n    try {\n      let data = await profileAPI.setStatus(status)\n      if (data.resultCode === 0) {\n        dispatch(setStatusSuccess(status))\n      } else {\n        const error = data.messages[0]\n        dispatch(setStatusError(error))\n      }\n    } catch (e) {\n      dispatch(setStatusError('Some error occurred. Try again later'))\n    }\n  }\n}\n\nexport const updateProfile = (userData) => {\n\n  return async (dispatch, getState) => {\n    const result = await profileAPI.setUserProfile(userData)\n    if (result.data.resultCode === 0) {\n      const userId = getState().auth.userId\n      dispatch(getProfile(userId))\n    } else {\n      const messageError = result.data.messages[0] || 'An error occured'\n      const errorField = getErrorField(messageError)\n      if (errorField === 'formError') {\n        const action = stopSubmit('editProfileForm', {_error: messageError})\n        dispatch(action)\n        return Promise.reject()\n      } else {\n        const action = stopSubmit('editProfileForm', {\n         contacts : {\n           [errorField]: messageError\n         }\n        })\n        dispatch(action)\n        return Promise.reject()\n      }\n    }\n  }\n}\n\n\nexport default profileReducer"],"sourceRoot":""}