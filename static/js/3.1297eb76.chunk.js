(this["webpackJsonpsocial-network-react"]=this["webpackJsonpsocial-network-react"]||[]).push([[3],{300:function(e,t,s){"use strict";var a=s(0),o=(s(1),s(14)),n=s(304),i=s.n(n);t.a=function(e){var t="/dialogs/".concat(e.id);return Object(a.jsxs)("div",{className:i.a.dialog,children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"https://i.imgur.com/Ss75Vfa.jpg",alt:"dialogItem"})}),Object(a.jsx)("div",{children:Object(a.jsx)(o.b,{to:t,activeClassName:i.a.active,children:e.name})})]})}},301:function(e,t,s){e.exports={dialogBlock:"Dialogs_dialogBlock__3EkfI",dialogs:"Dialogs_dialogs__2xRSA",dialogsItems:"Dialogs_dialogsItems__2sNe2",messageItems:"Dialogs_messageItems__1r8sx"}},302:function(e,t,s){"use strict";var a=s(0),o=(s(1),s(305)),n=s.n(o);t.a=function(e){return Object(a.jsxs)("div",{className:n.a.message,children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"https://i.imgur.com/sFRuG9D.jpg",alt:"messageImage"})}),Object(a.jsx)("div",{className:n.a.messageText,children:e.message})]})}},303:function(e,t,s){"use strict";s(0),s(1)},304:function(e,t,s){e.exports={dialog:"DialogItem_dialog__3tDA2",active:"DialogItem_active__2qnc5"}},305:function(e,t,s){e.exports={message:"Message_message__1MOXo",messageText:"Message_messageText__1G9P6"}},306:function(e,t,s){e.exports={sendMessages:"MessageForm_sendMessages__1ONjS"}},307:function(e,t,s){"use strict";var a=s(0),o=(s(1),s(300)),n=s(301),i=s.n(n),c=s(302),r=s(131),l=s(132),d=s(56),u=s(45),j=s(306),p=s.n(j),b=Object(u.a)(70),m=Object(l.a)({form:"message"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,className:p.a.sendMessages,children:[Object(a.jsx)("div",{children:Object(a.jsx)(r.a,{type:"text",component:d.b,name:"messageText",validate:[u.c,b],placeholder:"Enter your message"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"Send message"})})]})}));t.a=function(e){var t=e.dialogsData.map((function(e,t){return Object(a.jsx)(o.a,{name:e.name,id:e.id},t)})),s=e.messagesData.map((function(e,t){return Object(a.jsx)(c.a,{message:e.message},t)}));return Object(a.jsx)("div",{className:i.a.dialogBlock,children:Object(a.jsxs)("div",{className:i.a.dialogs,children:[Object(a.jsx)("div",{className:i.a.dialogsItems,children:t}),Object(a.jsx)("div",{className:i.a.messageItems,children:s}),Object(a.jsx)(m,{onSubmit:function(t){return function(t){e.onSendMessage(t.messageText)}(t)}})]})})}},308:function(e,t,s){e.exports={postBlock:"MyPosts_postBlock__3b6E0",posts:"MyPosts_posts__3tZ1c"}},309:function(e,t,s){e.exports={item:"Post_item__ihtu9",message:"Post_message__3raFK"}},310:function(e,t,s){e.exports={profileBlock:"Profile_profileBlock__fp8bz"}},311:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",choosePhoto:"ProfileInfo_choosePhoto__2TMi3",profilePhoto:"ProfileInfo_profilePhoto__9KLOb",nameAndStatus:"ProfileInfo_nameAndStatus__29SDJ",name:"ProfileInfo_name__1VvQB",descriptionItem:"ProfileInfo_descriptionItem__1EqOf",myContacts:"ProfileInfo_myContacts__2e0c4",contactsItem:"ProfileInfo_contactsItem__VYNp-"}},312:function(e,t,s){e.exports={statusUpdateError:"ProfileStatus_statusUpdateError__Wt2lM"}},313:function(e,t,s){e.exports={formSubmitError:"ProfileUpdateForm_formSubmitError__2KJ9B"}},315:function(e,t,s){"use strict";s.r(t);var a=s(3),o=s(35),n=s(36),i=s(39),c=s(38),r=s(0),l=s(1),d=s.n(l),u=s(99),j=s(66),p=(s(303),s(307),s(308)),b=s.n(p),m=s(309),h=s.n(m),f=function(e){return Object(r.jsxs)("div",{className:h.a.item,children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcToVm-BfiWN-1qbMxJSI3ydyyHFa7_N7vBPDw&usqp=CAU",alt:""})}),Object(r.jsxs)("div",{className:h.a.message,children:[e.message," ",Object(r.jsx)("br",{}),Object(r.jsxs)("span",{children:[e.likeCounts," likes"]})]})]})},O=s(131),x=s(132),g=s(56),v=s(45),_=Object(v.a)(100),P=Object(x.a)({form:"post"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(O.a,{component:g.b,type:"text",name:"newPost",validate:[v.c,_],placeholder:"Add new post"})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Add post"})})]})})),S=function(e){var t=e.posts.map((function(e,t){return Object(r.jsx)(f,{message:e.message,likeCounts:e.likesCount},t)}));return Object(r.jsxs)("div",{className:b.a.postBlock,children:[Object(r.jsx)("h3",{children:"My posts"}),Object(r.jsx)(P,{onSubmit:function(t){return function(t){e.onAddPost(t.newPost)}(t)}}),Object(r.jsx)("div",{className:b.a.posts,children:t})]})},k=d.a.memo(S),N=s(12);var I=Object(N.b)((function(e){return{posts:e.profilePage.postsData}}),(function(e){return{onAddPost:function(t){e(Object(u.a)(t))}}}))(k),y=s(310),M=s.n(y),E=s(133),A=s(311),D=s.n(A),U=s(312),B=s.n(U),C=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={editMode:!1,status:e.props.status},e.enableEditMode=function(){e.setState({editMode:!0})},e.disableEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onChangeStatus=function(t){e.setState({status:t.currentTarget.value})},e}return Object(n.a)(s,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(r.jsxs)("div",{children:["\u0421\u0442\u0430\u0442\u0443\u0441:",!this.state.editMode&&Object(r.jsx)("div",{children:Object(r.jsx)("span",{onDoubleClick:this.enableEditMode,title:"Double click to edit",children:this.props.status||"------"})}),this.state.editMode&&Object(r.jsx)("div",{children:Object(r.jsx)("input",{onChange:this.onChangeStatus,autoFocus:!0,onBlur:this.disableEditMode,value:this.state.status})}),this.props.statusUpdateError&&Object(r.jsxs)("span",{className:B.a.statusUpdateError,children:[Object(r.jsx)("i",{className:"fa fa-exclamation-circle"}),"\xa0",this.props.statusUpdateError]})]})}}]),s}(d.a.Component),F=s(129),w=s(313),T=s.n(w),J=Object(x.a)({form:"editProfileForm"})((function(e){var t=e.profile,s=e.handleSubmit,a=e.error,o=Object.entries(t.contacts).map((function(e,t){return Object(r.jsx)("div",{children:Object(r.jsx)(O.a,{type:"text",component:g.a,name:"contacts."+e[0],placeholder:e[0]})},t)}));return Object(r.jsxs)("form",{onSubmit:s,children:[Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Save"})}),Object(r.jsx)("div",{children:Object(r.jsx)(O.a,{type:"text",component:g.a,name:"fullName",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u0438\u043c\u044f"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(O.a,{type:"checkbox",name:"lookingForAJob",component:"input"})," \u0418\u0449\u0438\u0442\u0435 \u043b\u0438 \u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0443?"]}),Object(r.jsx)("div",{children:Object(r.jsx)(O.a,{type:"text",component:g.b,name:"lookingForAJobDescription",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438"})}),Object(r.jsx)("div",{children:Object(r.jsx)(O.a,{type:"text",component:g.b,name:"aboutMe",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0441\u0435\u0431\u0435"})}),Object(r.jsxs)("div",{children:["Contacts:",o]}),a&&Object(r.jsx)("div",{className:T.a.formSubmitError,children:a})]})})),q=function(e){var t=e.profile,s=e.onToggleEditMode,a=e.setPhoto,o=e.updateStatus,n=e.status,i=e.isPageOwner,c=e.statusUpdateError,l=t.contacts,u=Object.entries(l).map((function(e,t){var s=e[1]?e[1]:"No information";return Object(r.jsxs)("div",{className:D.a.contactsItem,children:[Object(r.jsxs)("strong",{children:[" ",e[0],": "]})," ",Object(r.jsx)("a",{href:e[1],target:"_blank",rel:"noreferrer",children:s})]},t)}));return Object(r.jsxs)(d.a.Fragment,{children:[Object(r.jsxs)("div",{className:D.a.descriptionBlock,children:[Object(r.jsx)("div",{className:D.a.profilePhoto,children:Object(r.jsx)("img",{src:t.photos.large||F.a,alt:t.fullname})}),Object(r.jsxs)("div",{className:D.a.nameAndStatus,children:[Object(r.jsxs)("div",{className:D.a.name,children:["\u0418\u043c\u044f: ",t.fullName]}),Object(r.jsxs)("div",{className:D.a.descriptionItem,children:["\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u043e \u043c\u043d\u0435: ",t.aboutMe]}),Object(r.jsx)("div",{className:D.a.descriptionItem,children:Object(r.jsx)(C,{status:n,updateStatus:o,statusUpdateError:c})}),Object(r.jsxs)("div",{className:D.a.descriptionItem,children:["\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441: ",t.lookingForAJob?"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443":"\u0423\u0436\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u044e"]}),Object(r.jsxs)("div",{className:D.a.descriptionItem,children:["\u041f\u0440\u043e\u0444. \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",t.lookingForAJobDescription]}),i&&Object(r.jsxs)(d.a.Fragment,{children:[Object(r.jsxs)("div",{className:D.a.choosePhoto,children:[Object(r.jsx)("label",{htmlFor:"uploadAvatar",id:"label",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0434\u043b\u044f \u0441\u043c\u0435\u043d\u044b \u0430\u0432\u0430\u0442\u0430\u0440\u0430: \xa0"}),Object(r.jsx)("input",{id:"uploadAvatar",type:"file",onChange:function(e){0!==e.target.files&&a(e.target.files[0])}})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:s,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0435"})})]})]})]}),Object(r.jsxs)("div",{className:D.a.myContacts,children:[Object(r.jsx)("span",{children:"\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),u]})]})},V=function(e){var t=Object(l.useState)(!1),s=Object(E.a)(t,2),a=s[0],o=s[1];return Object(r.jsxs)(d.a.Fragment,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:"https://d3g7htsbjjywiv.cloudfront.net/assets/graphicstock/images/media-type/vector/Hero.jpg",alt:""})}),a?Object(r.jsx)(J,{initialValues:e.profile,onSubmit:function(t){return function(t){e.updateProfile(t).then((function(){o(!1)})).catch((function(e){}))}(t)},profile:e.profile}):Object(r.jsx)(q,{profile:e.profile,statusUpdateError:e.statusUpdateError,onToggleEditMode:function(){o(!0)},setPhoto:e.setPhoto,updateStatus:e.updateStatus,status:e.status,isPageOwner:e.isPageOwner})]})},z=function(e){return e.profile?Object(r.jsxs)("div",{className:M.a.profileBlock,children:[Object(r.jsx)(V,{isPageOwner:e.isPageOwner,profile:e.profile,updateStatus:e.updateStatus,statusUpdateError:e.statusUpdateError,status:e.status,updateProfile:e.updateProfile,setPhoto:e.setPhoto}),Object(r.jsx)(I,{})]}):Object(r.jsx)(j.a,{})},G=s(11),K=s(9),H=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshPage",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshPage()}},{key:"componentDidUpdate",value:function(e,t,s){e.match.params.userId!==this.props.match.params.userId&&this.refreshPage()}},{key:"render",value:function(){return Object(r.jsx)(z,Object(a.a)(Object(a.a)({},this.props),{},{isPageOwner:!this.props.match.params.userId,profile:this.props.profile,updateStatus:this.props.updateStatus}))}}]),s}(d.a.Component);t.default=Object(K.d)(Object(N.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.statusField.status,statusUpdateError:e.profilePage.statusField.errorMessage,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),(function(e){return{getProfile:function(t){e(Object(u.c)(t))},getStatus:function(t){e(Object(u.d)(t))},updateStatus:function(t){e(Object(u.g)(t))},setPhoto:function(t){e(Object(u.e)(t))},updateProfile:function(t){return e(Object(u.f)(t))}}})),G.g)(H)}}]);
//# sourceMappingURL=3.1297eb76.chunk.js.map